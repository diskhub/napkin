\hypertarget{class_p_e_a_r2_1_1_console_1_1_command_line}{
\section{\-Command\-Line \-Class \-Reference}
\label{class_p_e_a_r2_1_1_console_1_1_command_line}\index{\-Command\-Line@{\-Command\-Line}}
}
\-Inheritance diagram for \-Command\-Line\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_p_e_a_r2_1_1_console_1_1_command_line}
\end{center}
\end{figure}
\subsection*{\-Public \-Member \-Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_p_e_a_r2_1_1_console_1_1_command_line_a85ac5b7f54ad67ec6b5b9dc282717602}{\-\_\-\-\_\-construct} (array \$params=array())
\item 
\hyperlink{class_p_e_a_r2_1_1_console_1_1_command_line_acbe2cdb774d2e2eed0c02eda2b7dcc85}{accept} (\$instance)
\item 
\hyperlink{class_p_e_a_r2_1_1_console_1_1_command_line_a7111cf9f2fcff74b790f20a95b4b2bbe}{add\-Argument} (\$name, \$params=array())
\item 
\hyperlink{class_p_e_a_r2_1_1_console_1_1_command_line_a754d690981c63bcecf9e32d96596cfed}{add\-Command} (\$name, \$params=array())
\item 
\hyperlink{class_p_e_a_r2_1_1_console_1_1_command_line_a03cc4ebc43ebb304d79fc731c73c7d5d}{add\-Option} (\$name, \$params=array())
\item 
\hyperlink{class_p_e_a_r2_1_1_console_1_1_command_line_ad9e5386ec285042822c328183f0a0e53}{display\-Error} (\$error, \$exit\-Code=1)
\item 
\hyperlink{class_p_e_a_r2_1_1_console_1_1_command_line_ade9e55935bd80bdfb3b6ebf972e1922d}{display\-Usage} (\$exit\-Code=0)
\item 
\hyperlink{class_p_e_a_r2_1_1_console_1_1_command_line_a620a8400449f7d731dc20ed9846e610e}{display\-Version} (\$exit\-Code=0)
\item 
\hyperlink{class_p_e_a_r2_1_1_console_1_1_command_line_a53158a104942261940de1d02b947695d}{find\-Option} (\$str)
\item 
\hyperlink{class_p_e_a_r2_1_1_console_1_1_command_line_abbb06a97b917ba9cef5341add43f8634}{parse} (\$user\-Argc=null, \$user\-Argv=null)
\item 
\hyperlink{class_p_e_a_r2_1_1_console_1_1_command_line_ad32057b96795668953b8e8c3397d6a90}{add\-Builtin\-Options} ()
\end{DoxyCompactItemize}
\subsection*{\-Static \-Public \-Member \-Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{class_p_e_a_r2_1_1_console_1_1_command_line_a3e1515970d74fe0a779def6f95026e47}{from\-Xml\-File} (\$file)
\item 
static \hyperlink{class_p_e_a_r2_1_1_console_1_1_command_line_af00a0bd2cb31659e6bbc86d9f2d68e2a}{from\-Xml\-String} (\$string)
\item 
static \hyperlink{class_p_e_a_r2_1_1_console_1_1_command_line_a9da001bf263df32bd49d259b5e42a294}{register\-Action} (\$name, \$class)
\item 
static \hyperlink{class_p_e_a_r2_1_1_console_1_1_command_line_a7d983b16c2cb57cefa229686c486a8f9}{trigger\-Error} (\$msg\-Id, \$level, \$params=array())
\end{DoxyCompactItemize}
\subsection*{\-Data \-Fields}
\begin{DoxyCompactItemize}
\item 
\hypertarget{class_p_e_a_r2_1_1_console_1_1_command_line_ab2fc40d43824ea3e1ce5d86dee0d763b}{
{\bfseries \$name}}
\label{class_p_e_a_r2_1_1_console_1_1_command_line_ab2fc40d43824ea3e1ce5d86dee0d763b}

\item 
\hypertarget{class_p_e_a_r2_1_1_console_1_1_command_line_a87b032cba06009e3467abf1c8018d960}{
{\bfseries \$description} = ''}
\label{class_p_e_a_r2_1_1_console_1_1_command_line_a87b032cba06009e3467abf1c8018d960}

\item 
\hyperlink{class_p_e_a_r2_1_1_console_1_1_command_line_a1b7c1b5313d6b73d29848c3eb464529f}{\$version} = ''
\item 
\hypertarget{class_p_e_a_r2_1_1_console_1_1_command_line_adcf5d7d453980e115b7187c6d21115ce}{
{\bfseries \$add\-\_\-help\-\_\-option} = true}
\label{class_p_e_a_r2_1_1_console_1_1_command_line_adcf5d7d453980e115b7187c6d21115ce}

\item 
\hypertarget{class_p_e_a_r2_1_1_console_1_1_command_line_afe2650890878f6c2c6152fe255dbc573}{
{\bfseries \$add\-\_\-version\-\_\-option} = true}
\label{class_p_e_a_r2_1_1_console_1_1_command_line_afe2650890878f6c2c6152fe255dbc573}

\item 
\hypertarget{class_p_e_a_r2_1_1_console_1_1_command_line_a8d061cd61ab0c71fbad5286ee0928a24}{
{\bfseries \$renderer} = false}
\label{class_p_e_a_r2_1_1_console_1_1_command_line_a8d061cd61ab0c71fbad5286ee0928a24}

\item 
\hypertarget{class_p_e_a_r2_1_1_console_1_1_command_line_a1cdeff2b94890ebc53dbcdc0f5e848ff}{
{\bfseries \$outputter} = false}
\label{class_p_e_a_r2_1_1_console_1_1_command_line_a1cdeff2b94890ebc53dbcdc0f5e848ff}

\item 
\hypertarget{class_p_e_a_r2_1_1_console_1_1_command_line_a162765d436b2bf309fac9513b7e39290}{
{\bfseries \$message\-\_\-provider} = false}
\label{class_p_e_a_r2_1_1_console_1_1_command_line_a162765d436b2bf309fac9513b7e39290}

\item 
\hypertarget{class_p_e_a_r2_1_1_console_1_1_command_line_ae7be8eced121c9e83d178800894bded5}{
{\bfseries \$force\-\_\-posix} = false}
\label{class_p_e_a_r2_1_1_console_1_1_command_line_ae7be8eced121c9e83d178800894bded5}

\item 
\hypertarget{class_p_e_a_r2_1_1_console_1_1_command_line_a42ca661e21127fe7272d2293c9bc26bd}{
{\bfseries \$force\-\_\-options\-\_\-defaults} = false}
\label{class_p_e_a_r2_1_1_console_1_1_command_line_a42ca661e21127fe7272d2293c9bc26bd}

\item 
\hypertarget{class_p_e_a_r2_1_1_console_1_1_command_line_a011800c63ece4cbbfa77136a20607023}{
{\bfseries \$options} = array()}
\label{class_p_e_a_r2_1_1_console_1_1_command_line_a011800c63ece4cbbfa77136a20607023}

\item 
\hypertarget{class_p_e_a_r2_1_1_console_1_1_command_line_a67e94494731d99ed23b123e95175bc10}{
{\bfseries \$args} = array()}
\label{class_p_e_a_r2_1_1_console_1_1_command_line_a67e94494731d99ed23b123e95175bc10}

\item 
\hypertarget{class_p_e_a_r2_1_1_console_1_1_command_line_ab63cd62b3b65fd223b6f3d57b6ca754d}{
{\bfseries \$commands} = array()}
\label{class_p_e_a_r2_1_1_console_1_1_command_line_ab63cd62b3b65fd223b6f3d57b6ca754d}

\item 
\hypertarget{class_p_e_a_r2_1_1_console_1_1_command_line_a4e2313a4b35b72a06ac45fd38960f677}{
{\bfseries \$parent} = false}
\label{class_p_e_a_r2_1_1_console_1_1_command_line_a4e2313a4b35b72a06ac45fd38960f677}

\item 
\hypertarget{class_p_e_a_r2_1_1_console_1_1_command_line_a21a183f927a6d243fe6b4ba3a6c4d4c8}{
{\bfseries \$messages} = array()}
\label{class_p_e_a_r2_1_1_console_1_1_command_line_a21a183f927a6d243fe6b4ba3a6c4d4c8}

\end{DoxyCompactItemize}
\subsection*{\-Static \-Public \-Attributes}
\begin{DoxyCompactItemize}
\item 
static {\bfseries \$errors}
\item 
static {\bfseries \$actions}
\end{DoxyCompactItemize}
\subsection*{\-Protected \-Member \-Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_p_e_a_r2_1_1_console_1_1_command_line_a66195e82a85ca7b74d6c70a819d47e45}{parse\-Token} (\$token, \$result, \&\$args, \$argc)
\item 
\hyperlink{class_p_e_a_r2_1_1_console_1_1_command_line_ada6370e0887de631603cfb81f6243092}{get\-Argc\-Argv} ()
\end{DoxyCompactItemize}


\subsection{\-Constructor \& \-Destructor \-Documentation}
\hypertarget{class_p_e_a_r2_1_1_console_1_1_command_line_a85ac5b7f54ad67ec6b5b9dc282717602}{
\index{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}!\-\_\-\-\_\-construct@{\-\_\-\-\_\-construct}}
\index{\-\_\-\-\_\-construct@{\-\_\-\-\_\-construct}!PEAR2::Console::CommandLine@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}}
\subsubsection[{\-\_\-\-\_\-construct}]{\setlength{\rightskip}{0pt plus 5cm}\-\_\-\-\_\-construct (
\begin{DoxyParamCaption}
\item[{array \$}]{params = {\ttfamily array()}}
\end{DoxyParamCaption}
)}}
\label{class_p_e_a_r2_1_1_console_1_1_command_line_a85ac5b7f54ad67ec6b5b9dc282717602}
\-Constructor. \-Example\-:

{\ttfamily  \$parser = new \hyperlink{namespace_p_e_a_r2}{\-P\-E\-A\-R2}(array( 'name' =$>$ 'yourprogram', // defaults to argv\mbox{[}0\mbox{]} 'description' =$>$ '\-Description of your program', 'version' =$>$ '0.0.\-1', // your program version 'add\-\_\-help\-\_\-option' =$>$ true, // or false to disable -\/-\/help option 'add\-\_\-version\-\_\-option' =$>$ true, // or false to disable -\/-\/version option 'force\-\_\-posix' =$>$ false // or true to force posix compliance )); }


\begin{DoxyParams}[1]{\-Parameters}
array & {\em \$params} & \-An optional array of parameters\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
void 
\end{DoxyReturn}


\subsection{\-Member \-Function \-Documentation}
\hypertarget{class_p_e_a_r2_1_1_console_1_1_command_line_acbe2cdb774d2e2eed0c02eda2b7dcc85}{
\index{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}!accept@{accept}}
\index{accept@{accept}!PEAR2::Console::CommandLine@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}}
\subsubsection[{accept}]{\setlength{\rightskip}{0pt plus 5cm}accept (
\begin{DoxyParamCaption}
\item[{\$}]{instance}
\end{DoxyParamCaption}
)}}
\label{class_p_e_a_r2_1_1_console_1_1_command_line_acbe2cdb774d2e2eed0c02eda2b7dcc85}
\-Method to allow \hyperlink{namespace_p_e_a_r2}{\-P\-E\-A\-R2} to accept either\-: + a custom renderer, + a custom outputter, + or a custom message provider


\begin{DoxyParams}[1]{\-Parameters}
mixed & {\em \$instance} & \-The custom instance\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
void 
\end{DoxyReturn}

\begin{DoxyExceptions}{\-Exceptions}
{\em \-P\-E\-A\-R2$\backslash$\-Console$\backslash$\-Command\-Line$\backslash$\-Exception} & if wrong argument passed \\
\hline
\end{DoxyExceptions}
\hypertarget{class_p_e_a_r2_1_1_console_1_1_command_line_a7111cf9f2fcff74b790f20a95b4b2bbe}{
\index{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}!add\-Argument@{add\-Argument}}
\index{add\-Argument@{add\-Argument}!PEAR2::Console::CommandLine@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}}
\subsubsection[{add\-Argument}]{\setlength{\rightskip}{0pt plus 5cm}add\-Argument (
\begin{DoxyParamCaption}
\item[{\$}]{name, }
\item[{\$}]{params = {\ttfamily array()}}
\end{DoxyParamCaption}
)}}
\label{class_p_e_a_r2_1_1_console_1_1_command_line_a7111cf9f2fcff74b790f20a95b4b2bbe}
\-Adds an argument to the command line parser and returns it.

\-Adds an argument with the name \$name and set its attributes with the array \$params, then return the \hyperlink{namespace_p_e_a_r2}{\-P\-E\-A\-R2} instance created. \-The method accepts another form\-: you can directly pass a \hyperlink{namespace_p_e_a_r2}{\-P\-E\-A\-R2} object as the sole argument, this allows you to contruct the argument separately, in order to reuse it in different command line parsers or commands for example.

\-Example\-: {\ttfamily  \$parser = new \hyperlink{namespace_p_e_a_r2}{\-P\-E\-A\-R2}(); // add an array argument \$parser-\/$>$add\-Argument('input\-\_\-files', array('multiple'=$>$true)); // add a simple argument \$parser-\/$>$add\-Argument('output\-\_\-file'); \$result = \$parser-\/$>$\hyperlink{class_p_e_a_r2_1_1_console_1_1_command_line_abbb06a97b917ba9cef5341add43f8634}{parse()}; print\-\_\-r(\$result-\/$>$args\mbox{[}'input\-\_\-files'\mbox{]}); print\-\_\-r(\$result-\/$>$args\mbox{[}'output\-\_\-file'\mbox{]}); // will print\-: // array('file1', 'file2') // 'file3' // if the command line was\-: // myscript.\-php file1 file2 file3 }

\-In a terminal, the help will be displayed like this\-: {\ttfamily  \$ myscript.\-php install -\/h \-Usage\-: myscript.\-php $<$input\-\_\-files...$>$ $<$output\-\_\-file$>$ }


\begin{DoxyParams}[1]{\-Parameters}
mixed & {\em \$name} & \-A string containing the argument name or an instance of \hyperlink{namespace_p_e_a_r2}{\-P\-E\-A\-R2} \\
\hline
array & {\em \$params} & \-An array containing the argument attributes\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\hyperlink{namespace_p_e_a_r2}{\-P\-E\-A\-R2} the added argument 
\end{DoxyReturn}
\begin{DoxySeeAlso}{\-See also}
\hyperlink{namespace_p_e_a_r2}{\-P\-E\-A\-R2} 
\end{DoxySeeAlso}
\hypertarget{class_p_e_a_r2_1_1_console_1_1_command_line_ad32057b96795668953b8e8c3397d6a90}{
\index{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}!add\-Builtin\-Options@{add\-Builtin\-Options}}
\index{add\-Builtin\-Options@{add\-Builtin\-Options}!PEAR2::Console::CommandLine@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}}
\subsubsection[{add\-Builtin\-Options}]{\setlength{\rightskip}{0pt plus 5cm}add\-Builtin\-Options (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{class_p_e_a_r2_1_1_console_1_1_command_line_ad32057b96795668953b8e8c3397d6a90}
\-Adds the builtin \char`\"{}\-Help\char`\"{} and \char`\"{}\-Version\char`\"{} options if needed.

\begin{DoxyReturn}{\-Returns}
void 
\end{DoxyReturn}
\hypertarget{class_p_e_a_r2_1_1_console_1_1_command_line_a754d690981c63bcecf9e32d96596cfed}{
\index{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}!add\-Command@{add\-Command}}
\index{add\-Command@{add\-Command}!PEAR2::Console::CommandLine@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}}
\subsubsection[{add\-Command}]{\setlength{\rightskip}{0pt plus 5cm}add\-Command (
\begin{DoxyParamCaption}
\item[{\$}]{name, }
\item[{\$}]{params = {\ttfamily array()}}
\end{DoxyParamCaption}
)}}
\label{class_p_e_a_r2_1_1_console_1_1_command_line_a754d690981c63bcecf9e32d96596cfed}
\-Adds a sub-\/command to the command line parser.

\-Adds a command with the given \$name to the parser and returns the \hyperlink{namespace_p_e_a_r2}{\-P\-E\-A\-R2} instance, you can then populate the command with options, configure it, etc... like you would do for the main parser because the class \hyperlink{namespace_p_e_a_r2}{\-P\-E\-A\-R2} inherits from \hyperlink{namespace_p_e_a_r2}{\-P\-E\-A\-R2}.

\-An example\-: {\ttfamily  \$parser = new \hyperlink{namespace_p_e_a_r2}{\-P\-E\-A\-R2}(); \$install\-\_\-cmd = \$parser-\/$>$add\-Command('install'); \$install\-\_\-cmd-\/$>$add\-Option( 'verbose', array( 'short\-\_\-name' =$>$ '-\/v', 'long\-\_\-name' =$>$ '-\/-\/verbose', 'description' =$>$ 'be noisy when installing stuff', 'action' =$>$ '\-Store\-True' ) ); \$parser-\/$>$\hyperlink{class_p_e_a_r2_1_1_console_1_1_command_line_abbb06a97b917ba9cef5341add43f8634}{parse()}; } \-Then in a terminal\-: {\ttfamily  \$ myscript.\-php install -\/h \-Usage\-: myscript.\-php install \mbox{[}options\mbox{]}}

{\ttfamily  \-Options\-: -\/h, -\/-\/help display this help message and exit -\/v, -\/-\/verbose be noisy when installing stuff}

{\ttfamily  \$ myscript.\-php install -\/-\/verbose \-Installing whatever... \$ }


\begin{DoxyParams}[1]{\-Parameters}
mixed & {\em \$name} & \-A string containing the command name or an instance of \hyperlink{namespace_p_e_a_r2}{\-P\-E\-A\-R2} \\
\hline
array & {\em \$params} & \-An array containing the command attributes\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\hyperlink{namespace_p_e_a_r2}{\-P\-E\-A\-R2} \-The added subcommand 
\end{DoxyReturn}
\begin{DoxySeeAlso}{\-See also}
\hyperlink{namespace_p_e_a_r2}{\-P\-E\-A\-R2} 
\end{DoxySeeAlso}
\hypertarget{class_p_e_a_r2_1_1_console_1_1_command_line_a03cc4ebc43ebb304d79fc731c73c7d5d}{
\index{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}!add\-Option@{add\-Option}}
\index{add\-Option@{add\-Option}!PEAR2::Console::CommandLine@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}}
\subsubsection[{add\-Option}]{\setlength{\rightskip}{0pt plus 5cm}add\-Option (
\begin{DoxyParamCaption}
\item[{\$}]{name, }
\item[{\$}]{params = {\ttfamily array()}}
\end{DoxyParamCaption}
)}}
\label{class_p_e_a_r2_1_1_console_1_1_command_line_a03cc4ebc43ebb304d79fc731c73c7d5d}
\-Adds an option to the command line parser and returns it.

\-Adds an option with the name \$name and set its attributes with the array \$params, then return the \hyperlink{namespace_p_e_a_r2}{\-P\-E\-A\-R2} instance created. \-The method accepts another form\-: you can directly pass a \hyperlink{namespace_p_e_a_r2}{\-P\-E\-A\-R2} object as the sole argument, this allows you to contruct the option separately, in order to reuse it in different command line parsers or commands for example.

\-Example\-: {\ttfamily  \$parser = new \hyperlink{namespace_p_e_a_r2}{\-P\-E\-A\-R2}(); \$parser-\/$>$add\-Option('path', array( 'short\-\_\-name' =$>$ '-\/p', // a short name 'long\-\_\-name' =$>$ '-\/-\/path', // a long name 'description' =$>$ 'path to the dir', // a description msg 'action' =$>$ '\-Store\-String', 'default' =$>$ '/tmp' // a default value )); \$parser-\/$>$\hyperlink{class_p_e_a_r2_1_1_console_1_1_command_line_abbb06a97b917ba9cef5341add43f8634}{parse()}; }

\-In a terminal, the help will be displayed like this\-: {\ttfamily  \$ myscript.\-php -\/-\/help \-Usage\-: myscript.\-php \mbox{[}options\mbox{]}}

{\ttfamily  \-Options\-: -\/h, -\/-\/help display this help message and exit -\/p, -\/-\/path path to the dir}

{\ttfamily  }

\-Various methods to specify an option, these 3 commands are equivalent\-: {\ttfamily  \$ myscript.\-php -\/-\/path=some/path \$ myscript.\-php -\/p some/path \$ myscript.\-php -\/psome/path }


\begin{DoxyParams}[1]{\-Parameters}
mixed & {\em \$name} & \-A string containing the option name or an instance of \hyperlink{namespace_p_e_a_r2}{\-P\-E\-A\-R2} \\
\hline
array & {\em \$params} & \-An array containing the option attributes\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\hyperlink{namespace_p_e_a_r2}{\-P\-E\-A\-R2} \-The added option 
\end{DoxyReturn}
\begin{DoxySeeAlso}{\-See also}
\hyperlink{namespace_p_e_a_r2}{\-P\-E\-A\-R2} 
\end{DoxySeeAlso}
\hypertarget{class_p_e_a_r2_1_1_console_1_1_command_line_ad9e5386ec285042822c328183f0a0e53}{
\index{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}!display\-Error@{display\-Error}}
\index{display\-Error@{display\-Error}!PEAR2::Console::CommandLine@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}}
\subsubsection[{display\-Error}]{\setlength{\rightskip}{0pt plus 5cm}display\-Error (
\begin{DoxyParamCaption}
\item[{\$}]{error, }
\item[{\$}]{exit\-Code = {\ttfamily 1}}
\end{DoxyParamCaption}
)}}
\label{class_p_e_a_r2_1_1_console_1_1_command_line_ad9e5386ec285042822c328183f0a0e53}
\-Displays an error to the user via stderr and exit with \$exit\-Code if its value is not equals to false.


\begin{DoxyParams}[1]{\-Parameters}
string & {\em \$error} & \-The error message \\
\hline
int & {\em \$exit\-Code} & \-The exit code number (default\-: 1). \-If set to false, the exit() function will not be called\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
void 
\end{DoxyReturn}
\hypertarget{class_p_e_a_r2_1_1_console_1_1_command_line_ade9e55935bd80bdfb3b6ebf972e1922d}{
\index{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}!display\-Usage@{display\-Usage}}
\index{display\-Usage@{display\-Usage}!PEAR2::Console::CommandLine@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}}
\subsubsection[{display\-Usage}]{\setlength{\rightskip}{0pt plus 5cm}display\-Usage (
\begin{DoxyParamCaption}
\item[{\$}]{exit\-Code = {\ttfamily 0}}
\end{DoxyParamCaption}
)}}
\label{class_p_e_a_r2_1_1_console_1_1_command_line_ade9e55935bd80bdfb3b6ebf972e1922d}
\-Displays the usage help message to the user via stdout and exit with \$exit\-Code if its value is not equals to false.


\begin{DoxyParams}[1]{\-Parameters}
int & {\em \$exit\-Code} & \-The exit code number (default\-: 0). \-If set to false, the exit() function will not be called\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
void 
\end{DoxyReturn}
\hypertarget{class_p_e_a_r2_1_1_console_1_1_command_line_a620a8400449f7d731dc20ed9846e610e}{
\index{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}!display\-Version@{display\-Version}}
\index{display\-Version@{display\-Version}!PEAR2::Console::CommandLine@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}}
\subsubsection[{display\-Version}]{\setlength{\rightskip}{0pt plus 5cm}display\-Version (
\begin{DoxyParamCaption}
\item[{\$}]{exit\-Code = {\ttfamily 0}}
\end{DoxyParamCaption}
)}}
\label{class_p_e_a_r2_1_1_console_1_1_command_line_a620a8400449f7d731dc20ed9846e610e}
\-Displays the program version to the user via stdout and exit with \$exit\-Code if its value is not equals to false.


\begin{DoxyParams}[1]{\-Parameters}
int & {\em \$exit\-Code} & \-The exit code number (default\-: 0). \-If set to false, the exit() function will not be called\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
void 
\end{DoxyReturn}
\hypertarget{class_p_e_a_r2_1_1_console_1_1_command_line_a53158a104942261940de1d02b947695d}{
\index{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}!find\-Option@{find\-Option}}
\index{find\-Option@{find\-Option}!PEAR2::Console::CommandLine@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}}
\subsubsection[{find\-Option}]{\setlength{\rightskip}{0pt plus 5cm}find\-Option (
\begin{DoxyParamCaption}
\item[{\$}]{str}
\end{DoxyParamCaption}
)}}
\label{class_p_e_a_r2_1_1_console_1_1_command_line_a53158a104942261940de1d02b947695d}
\-Finds the option that matches the given short\-\_\-name (ex\-: -\/v), long\-\_\-name (ex\-: -\/-\/verbose) or name (ex\-: verbose).


\begin{DoxyParams}[1]{\-Parameters}
string & {\em \$str} & \-The option identifier\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
mixed \-A \hyperlink{namespace_p_e_a_r2}{\-P\-E\-A\-R2} instance or false 
\end{DoxyReturn}
\hypertarget{class_p_e_a_r2_1_1_console_1_1_command_line_a3e1515970d74fe0a779def6f95026e47}{
\index{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}!from\-Xml\-File@{from\-Xml\-File}}
\index{from\-Xml\-File@{from\-Xml\-File}!PEAR2::Console::CommandLine@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}}
\subsubsection[{from\-Xml\-File}]{\setlength{\rightskip}{0pt plus 5cm}static from\-Xml\-File (
\begin{DoxyParamCaption}
\item[{\$}]{file}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{class_p_e_a_r2_1_1_console_1_1_command_line_a3e1515970d74fe0a779def6f95026e47}
\-Returns a command line parser instance built from an xml file.

\-Example\-: {\ttfamily  \$parser = \hyperlink{namespace_p_e_a_r2}{\-P\-E\-A\-R2}\-::from\-Xml\-File('path/to/file.xml'); \$result = \$parser-\/$>$\hyperlink{class_p_e_a_r2_1_1_console_1_1_command_line_abbb06a97b917ba9cef5341add43f8634}{parse()}; }


\begin{DoxyParams}[1]{\-Parameters}
string & {\em \$file} & \-Path to the xml file\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\hyperlink{namespace_p_e_a_r2}{\-P\-E\-A\-R2} \-The parser instance 
\end{DoxyReturn}
\hypertarget{class_p_e_a_r2_1_1_console_1_1_command_line_af00a0bd2cb31659e6bbc86d9f2d68e2a}{
\index{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}!from\-Xml\-String@{from\-Xml\-String}}
\index{from\-Xml\-String@{from\-Xml\-String}!PEAR2::Console::CommandLine@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}}
\subsubsection[{from\-Xml\-String}]{\setlength{\rightskip}{0pt plus 5cm}static from\-Xml\-String (
\begin{DoxyParamCaption}
\item[{\$}]{string}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{class_p_e_a_r2_1_1_console_1_1_command_line_af00a0bd2cb31659e6bbc86d9f2d68e2a}
\-Returns a command line parser instance built from an xml string.

\-Example\-: {\ttfamily  \$xmldata = '$<$?xml version=\char`\"{}1.\-0\char`\"{} encoding=\char`\"{}utf-\/8\char`\"{} standalone=\char`\"{}yes\char`\"{}?$>$ $<$command$>$ \-Compress files $<$option name=\char`\"{}quiet\char`\"{}$>$ $<$short\-\_\-name$>$-\/q$<$/short\-\_\-name$>$ $<$long\-\_\-name$>$-\/-\/quiet$<$/long\-\_\-name$>$ be quiet when run $<$action$>$\-Store\-True/action$>$ $<$/option$>$ $<$argument name=\char`\"{}files\char`\"{}$>$ a list of files $<$multiple$>$true$<$/multiple$>$ $<$/argument$>$ $<$/command$>$'; \$parser = \hyperlink{namespace_p_e_a_r2}{\-P\-E\-A\-R2}\-::from\-Xml\-String(\$xmldata); \$result = \$parser-\/$>$\hyperlink{class_p_e_a_r2_1_1_console_1_1_command_line_abbb06a97b917ba9cef5341add43f8634}{parse()}; }


\begin{DoxyParams}[1]{\-Parameters}
string & {\em \$string} & \-The xml data\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\hyperlink{namespace_p_e_a_r2}{\-P\-E\-A\-R2} \-The parser instance 
\end{DoxyReturn}
\hypertarget{class_p_e_a_r2_1_1_console_1_1_command_line_ada6370e0887de631603cfb81f6243092}{
\index{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}!get\-Argc\-Argv@{get\-Argc\-Argv}}
\index{get\-Argc\-Argv@{get\-Argc\-Argv}!PEAR2::Console::CommandLine@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}}
\subsubsection[{get\-Argc\-Argv}]{\setlength{\rightskip}{0pt plus 5cm}get\-Argc\-Argv (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{class_p_e_a_r2_1_1_console_1_1_command_line_ada6370e0887de631603cfb81f6243092}
\-Tries to return an array containing argc and argv, or trigger an error if it fails to get them.

\begin{DoxyReturn}{\-Returns}
array \-The argc/argv array 
\end{DoxyReturn}

\begin{DoxyExceptions}{\-Exceptions}
{\em \-P\-E\-A\-R2$\backslash$\-Console$\backslash$\-Command\-Line$\backslash$\-Exception} & \\
\hline
\end{DoxyExceptions}
\hypertarget{class_p_e_a_r2_1_1_console_1_1_command_line_abbb06a97b917ba9cef5341add43f8634}{
\index{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}!parse@{parse}}
\index{parse@{parse}!PEAR2::Console::CommandLine@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}}
\subsubsection[{parse}]{\setlength{\rightskip}{0pt plus 5cm}parse (
\begin{DoxyParamCaption}
\item[{\$}]{user\-Argc = {\ttfamily null}, }
\item[{\$}]{user\-Argv = {\ttfamily null}}
\end{DoxyParamCaption}
)}}
\label{class_p_e_a_r2_1_1_console_1_1_command_line_abbb06a97b917ba9cef5341add43f8634}
\-Parses the command line arguments and returns a \hyperlink{namespace_p_e_a_r2}{\-P\-E\-A\-R2} instance.


\begin{DoxyParams}[1]{\-Parameters}
integer & {\em \$user\-Argc} & \-Number of arguments (optional) \\
\hline
array & {\em \$user\-Argv} & \-Array containing arguments (optional)\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\hyperlink{namespace_p_e_a_r2}{\-P\-E\-A\-R2} \-The result instance 
\end{DoxyReturn}

\begin{DoxyExceptions}{\-Exceptions}
{\em \hyperlink{class_p_e_a_r2_1_1_console_1_1_command_line_1_1_exception}{\-Exception}} & on user errors \\
\hline
\end{DoxyExceptions}
\hypertarget{class_p_e_a_r2_1_1_console_1_1_command_line_a66195e82a85ca7b74d6c70a819d47e45}{
\index{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}!parse\-Token@{parse\-Token}}
\index{parse\-Token@{parse\-Token}!PEAR2::Console::CommandLine@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}}
\subsubsection[{parse\-Token}]{\setlength{\rightskip}{0pt plus 5cm}parse\-Token (
\begin{DoxyParamCaption}
\item[{\$}]{token, }
\item[{\$}]{result, }
\item[{\&\$}]{args, }
\item[{\$}]{argc}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{class_p_e_a_r2_1_1_console_1_1_command_line_a66195e82a85ca7b74d6c70a819d47e45}
\-Parses the command line token and modifies $\ast$by reference$\ast$ the \$options and \$args arrays.


\begin{DoxyParams}[1]{\-Parameters}
string & {\em \$token} & \-The command line token to parse \\
\hline
object & {\em \$result} & \-The \hyperlink{namespace_p_e_a_r2}{\-P\-E\-A\-R2} instance \\
\hline
array & {\em \&\$args} & \-The argv array \\
\hline
int & {\em \$argc} & \-Number of lasting args\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
void  protected 
\end{DoxyReturn}

\begin{DoxyExceptions}{\-Exceptions}
{\em \hyperlink{class_p_e_a_r2_1_1_console_1_1_command_line_1_1_exception}{\-Exception}} & on user errors \\
\hline
\end{DoxyExceptions}
\hypertarget{class_p_e_a_r2_1_1_console_1_1_command_line_a9da001bf263df32bd49d259b5e42a294}{
\index{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}!register\-Action@{register\-Action}}
\index{register\-Action@{register\-Action}!PEAR2::Console::CommandLine@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}}
\subsubsection[{register\-Action}]{\setlength{\rightskip}{0pt plus 5cm}static register\-Action (
\begin{DoxyParamCaption}
\item[{\$}]{name, }
\item[{\$}]{class}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{class_p_e_a_r2_1_1_console_1_1_command_line_a9da001bf263df32bd49d259b5e42a294}
\-Registers a custom action for the parser, an example\-:

{\ttfamily }

{\ttfamily  // in this example we create a \char`\"{}range\char`\"{} action\-: // the user will be able to enter something like\-: // \$ $<$program$>$ -\/r 1,5 // and in the result we will have\-: // \$result-\/$>$options\mbox{[}'range'\mbox{]}\-: array(1, 5)}

{\ttfamily  class \-Action\-Range extends \hyperlink{namespace_p_e_a_r2}{\-P\-E\-A\-R2} \{ public function execute(\$value=false, \$params=array()) \{ \$range = explode(',', str\-\_\-replace(' ', '', \$value)); if (count(\$range) != 2) \{ throw new \hyperlink{class_p_e_a_r2_1_1_console_1_1_command_line_1_1_exception}{\-Exception}(sprintf( '\-Option \char`\"{}\%s\char`\"{} must be 2 integers separated by a comma', \$this-\/$>$option-\/$>$name )); \} \$this-\/$>$set\-Result(\$range); \} \} // then we can register our action \hyperlink{namespace_p_e_a_r2}{\-P\-E\-A\-R2}\-::register\-Action('\-Range', '\-Action\-Range'); // and now our action is available ! \$parser = new \hyperlink{namespace_p_e_a_r2}{\-P\-E\-A\-R2}(); \$parser-\/$>$add\-Option('range', array( 'short\-\_\-name' =$>$ '-\/r', 'long\-\_\-name' =$>$ '-\/-\/range', 'action' =$>$ '\-Range', // note our custom action 'description' =$>$ '\-A range of two integers separated by a comma' )); // etc...}

{\ttfamily  }


\begin{DoxyParams}[1]{\-Parameters}
string & {\em \$name} & \-The name of the custom action \\
\hline
string & {\em \$class} & \-The class name of the custom action\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
void 
\end{DoxyReturn}
\hypertarget{class_p_e_a_r2_1_1_console_1_1_command_line_a7d983b16c2cb57cefa229686c486a8f9}{
\index{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}!trigger\-Error@{trigger\-Error}}
\index{trigger\-Error@{trigger\-Error}!PEAR2::Console::CommandLine@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}}
\subsubsection[{trigger\-Error}]{\setlength{\rightskip}{0pt plus 5cm}static trigger\-Error (
\begin{DoxyParamCaption}
\item[{\$}]{msg\-Id, }
\item[{\$}]{level, }
\item[{\$}]{params = {\ttfamily array()}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{class_p_e_a_r2_1_1_console_1_1_command_line_a7d983b16c2cb57cefa229686c486a8f9}
\-A wrapper for programming errors triggering.


\begin{DoxyParams}[1]{\-Parameters}
string & {\em \$msg\-Id} & \-Identifier of the message \\
\hline
int & {\em \$level} & \-The php error level \\
\hline
array & {\em \$params} & \-An array of search=$>$replaces entries\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
void 
\end{DoxyReturn}
\begin{DoxyRefDesc}{\-Todo}
\item[\hyperlink{todo__todo000010}{\-Todo}]remove \-Console\-::trigger\-Error() and use exceptions only \end{DoxyRefDesc}


\subsection{\-Field \-Documentation}
\hypertarget{class_p_e_a_r2_1_1_console_1_1_command_line_a6cafc5f8d4f5d73acc0b5c6daaa766c1}{
\index{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}!\$actions@{\$actions}}
\index{\$actions@{\$actions}!PEAR2::Console::CommandLine@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}}
\subsubsection[{\$actions}]{\setlength{\rightskip}{0pt plus 5cm}\$actions\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{class_p_e_a_r2_1_1_console_1_1_command_line_a6cafc5f8d4f5d73acc0b5c6daaa766c1}
{\bfseries \-Initial value\-:}
\begin{DoxyCode}
 array(
        'StoreTrue'   => array('PEAR2\\Console\\CommandLine\\Action\\StoreTrue'
      , true),
        'StoreFalse'  => array('PEAR2\\Console\\CommandLine\\Action\\StoreFalse
      ', true),
        'StoreString' => array('PEAR2\\Console\\CommandLine\\Action\\
      StoreString', true),
        'StoreInt'    => array('PEAR2\\Console\\CommandLine\\Action\\StoreInt',
       true),
        'StoreFloat'  => array('PEAR2\\Console\\CommandLine\\Action\\StoreFloat
      ', true),
        'StoreArray'  => array('PEAR2\\Console\\CommandLine\\Action\\StoreArray
      ', true),
        'Callback'    => array('PEAR2\\Console\\CommandLine\\Action\\Callback',
       true),
        'Counter'     => array('PEAR2\\Console\\CommandLine\\Action\\Counter', 
      true),
        'Help'        => array('PEAR2\\Console\\CommandLine\\Action\\Help', 
      true),
        'Version'     => array('PEAR2\\Console\\CommandLine\\Action\\Version', 
      true),
        'Password'    => array('PEAR2\\Console\\CommandLine\\Action\\Password',
       true),
        'List'        => array('PEAR2\\Console\\CommandLine\\Action_List', true
      ),
    )
\end{DoxyCode}
\hypertarget{class_p_e_a_r2_1_1_console_1_1_command_line_ab24faf4aa647cdcee494fc48524ad4ff}{
\index{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}!\$errors@{\$errors}}
\index{\$errors@{\$errors}!PEAR2::Console::CommandLine@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}}
\subsubsection[{\$errors}]{\setlength{\rightskip}{0pt plus 5cm}\$errors\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{class_p_e_a_r2_1_1_console_1_1_command_line_ab24faf4aa647cdcee494fc48524ad4ff}
{\bfseries \-Initial value\-:}
\begin{DoxyCode}
 array(
        'option_bad_name'                    => 'option name must be a valid
       php variable name (got: {$name})',
        'argument_bad_name'                  => 'argument name must be a valid
       php variable name (got: {$name})',
        'option_long_and_short_name_missing' => 'you must provide at least an
       option short name or long name for option "{$name}"',
        'option_bad_short_name'              => 'option "{$name}" short name
       must be a dash followed by a letter (got: "{$short_name}")',
        'option_bad_long_name'               => 'option "{$name}" long name
       must be 2 dashes followed by a word (got: "{$long_name}")',
        'option_unregistered_action'         => 'unregistered action
       "{$action}" for option "{$name}".',
        'option_bad_action'                  => 'invalid action for option
       "{$name}".',
        'option_invalid_callback'            => 'you must provide a valid
       callback for option "{$name}"',
        'action_class_does_not_exists'       => 'action "{$name}" class
       "{$class}" not found, make sure that your class is available before calling PEAR2\C
      onsole\CommandLine::registerAction()',
        'invalid_xml_file'                   => 'XML definition file "{$file}"
       does not exists or is not readable',
        'invalid_rng_file'                   => 'RNG file "{$file}" does not
       exists or is not readable'
    )
\end{DoxyCode}
\hypertarget{class_p_e_a_r2_1_1_console_1_1_command_line_a1b7c1b5313d6b73d29848c3eb464529f}{
\index{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}!\$version@{\$version}}
\index{\$version@{\$version}!PEAR2::Console::CommandLine@{\-P\-E\-A\-R2\-::\-Console\-::\-Command\-Line}}
\subsubsection[{\$version}]{\setlength{\rightskip}{0pt plus 5cm}string \$version = ''}}
\label{class_p_e_a_r2_1_1_console_1_1_command_line_a1b7c1b5313d6b73d29848c3eb464529f}
\-A string that represents the version of the program, if this property is not empty and property add\-\_\-version\-\_\-option is not set to false, the command line parser will add a -\/-\/version option, that will display the property content.

public 

\-The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
vendor/pear2/lib/\-P\-E\-A\-R2/\-Console/\-Command\-Line.\-php\end{DoxyCompactItemize}
